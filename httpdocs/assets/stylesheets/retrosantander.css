@keyframes pulsate {
  from {
    transform: scale(1);
  }

  to {
    transform: scale(1.025);
  }
}

@keyframes rainbow {
  from {
    fill: rgb(255, 255, 255);
  }

  20% {
    fill: rgb(255, 0, 255);
  }

  40% {
    fill: rgb(0, 255, 255);
  }

  60% {
    fill: rgb(0, 255, 0);
  }

  80% {
    fill: rgb(255, 255, 0);
  }

  100% {
    fill: rgb(255, 0, 0);
  }
}

:root {
  --gap: 18px;
  --color-neutral-50: #fafafa;
  --color-neutral-200: #e5e5e5;
  --color-neutral-600: #525252;
  --color-neutral-700: #404040;
  --color-neutral-800: #262626;
  --color-neutral-900: #171717;
}

html {
  margin: 0 var(--gap);
  user-select: none;
  scroll-behavior: smooth;
  font-family: 'Inter', sans-serif;
  font-weight: 300;
  background: var(--color-neutral-900);
  color: var(--color-neutral-200);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

header {
  box-sizing: border-box;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1;
  display: flex;
  align-items: center;
  padding: 8px var(--gap);
  border-bottom: 1px solid var(--color-neutral-700);
  box-shadow: 0 5px 5px #1c191750;
  background-color: #171717f0; /* --color-neutral-900 */
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

header button {
  border: none;
  background: none;
  cursor: pointer;
}

header button svg {
  height: 22px;
  vertical-align: middle;
  transition: transform 200ms ease;
  fill: white;
}

header button:hover svg {
  transform: scale(1.25);
}

header button:hover svg path.ink {
  animation: rainbow 20s ease-in-out infinite alternate;
}

header label {
  display: flex;
  align-items: center;
  position: relative;
  width: 20em;
  min-width: 12em;
  margin: 0 var(--gap);
}

header label svg {
  position: absolute;
  width: 16px;
  left: 12px;
  fill: var(--color-neutral-600);
}

header label input {
  font-size: 14px;
  width: 100%;
  border: none;
  border-radius: 50px;
  padding: 8px 15px 8px 35px;
}

header div {
  flex-grow: 1;
  visibility: hidden;
}

header div cite {
  font-size: 18px;
  font-style: normal;
  font-weight: 600;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  color: var(--color-neutral-50);
}

header div ul {
  display: flex;
  font-size: 14px;
  font-weight: 500;
  margin: 1px 0 0 0;
  padding: 0;
}

header div ul li {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

header div ul li:not(:last-child) {
  margin-right: var(--gap);
}

header div ul li#date {
  width: 12%;
}

header div ul li#collection {
  width: 25%;
}

header div ul li#author {
  width: 20%;
}

header div ul li#material {
  width: 11%;
}

header div ul li#procedure {
  width: 24%;
}

header div ul li#link {
  width: 8%;
}

header div ul li svg {
  height: 17px;
  vertical-align: middle;
  stroke: currentColor;
  stroke-width: 2px;
  fill: none;
}

header div ul li svg path {
  stroke-linecap: round;
  stroke-linejoin: round;
}

header div ul li span {
  vertical-align: middle;
}

header div ul li a {
  color: inherit;
  text-decoration: none;
}

main {
  transition: transform 0.8s ease;
}

main figure {
  width: calc(25% - var(--gap));
  box-sizing: border-box;
  margin: 0;
}

main figure img {
  width: 100%;
  margin-bottom: var(--gap);
  border-radius: 4px;
  transition: transform ease-out 500ms 250ms, opacity ease-out 150ms;
  cursor: pointer;
  opacity: 0;
}

main.zoomed figure:hover div {
  position: absolute;
  border: 0.5px solid;
  border-radius: 1px;
  transition: ease-out 150ms;
}

main.zoomed figure:hover div.face {
  border-color: yellow;
}

main.zoomed figure:hover div.label {
  border-color: magenta;
}

main.zoomed figure:hover div:hover {
  border-color: white;
  animation: pulsate 750ms ease-in-out infinite alternate;
  background: rgba(255, 255, 255, 0.25);
  cursor: help;
}

main.zoomed img {
  margin-bottom: 0;
}

main:not(.zoomed) img:hover {
  transform: scale(1.025);
  transition: transform cubic-bezier(0.22, 1, 0.36, 1) 100ms;
}

aside {
  display: none;
  max-width: 50rem;
  margin: auto;
  font-size: 18px;
  line-height: 1.5;
  padding: calc(4 * var(--gap));
}

aside li {
  margin: 0.5em 0;
}

aside li a {
  color: inherit;
  font-weight: 800;
}

dialog {
  position: fixed;
  top: 0;
  bottom: 0;
  z-index: 1;
  width: 75vw;
  max-width: 50em;
  max-height: 75vh;
  box-sizing: border-box;
  font-size: 18px;
  line-height: 1.35;
  padding: calc(4 * var(--gap));
  overflow: scroll;
}

dialog strong {
  font-weight: 700;
}

dialog h1 {
  margin: 0;
}

dialog p:last-child {
  margin-bottom: 0;
}

dialog button {
  position: absolute;
  font-size: 32px;
  top: 0.5em;
  right: 0.5em;
  width: 2em;
  height: 2em;
  border: none;
  border-radius: 50px;
  background: none;
  cursor: pointer;
  padding: calc(var(--gap) / 2) var(--gap);
}

footer {
  position: fixed;
  left: 0;
  bottom: 0;
  height: 8px;
  background: var(--color-neutral-600);
  visibility: hidden;
}

footer.visible {
  transition: width ease-in 100ms;
  visibility: visible;
}

@media (max-width: 1024px) {
  :root {
    --gap: 10px;
  }

  main figure {
    width: calc(100% / 3 - var(--gap));
  }

  dialog button {
    top: 0;
    right: 0;
  }
}

@media (max-width: 640px) {
  :root {
    --gap: 5px;
  }

  header label {
    flex-grow: 1;
  }

  header div {
    display: none;
  }

  main figure {
    width: calc(50% - var(--gap));
  }

  aside {
    font-size: 16px;
    line-height: 1.35;
  }

  dialog {
    font-size: 16px;
    width: calc(100% - 4 * var(--gap));
  }
}
